<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2016-Present Webkul Software Pvt. Ltd. (<https://webkul.com/>) -->
<!-- See LICENSE file for full copyright and licensing details. -->
<!-- License URL : https://store.webkul.com/license.html/ -->
<odoo>
    <record id="student_student_general_icard" model="ir.actions.report">
        <field name="name">Student ID Card</field>
        <field name="model">student.student</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">wk_school_management.print_id_card_general_layout</field>
        <field name="report_file">wk_school_management.print_id_card_general_layout</field>
        <field name="print_report_name">'%s - ID Card' % (object.name).replace('/', '')</field>
        <field name="binding_model_id" ref="model_student_student"/>
        <field name="binding_type">report</field>
        <field name="paperformat_id" ref="paperformat_student_badge"/>
    </record>

    <template id="print_id_card_general_layout">
        <t t-call="web.basic_layout">
            <div class="page">
                <div class="oe_structure"></div>
                <t t-foreach="docs" t-as="student">
                    <div style="page-break-inside: avoid; width: 243pt; height: 153pt; border: 1pt solid black; border-radius:8pt; margin:5pt; padding: 2pt;">
                        <div style="display: inline-block; padding-left: 55px;">
                            <div t-if="student.company_id.name">
                                <h6 style="font-size:10pt; margin:0;color:#07163E;font-weight:600;text-align:center;" t-out="student.company_id.name"/>
                            </div>
                            <div t-if="student.company_id.street" style="margin:0;">
                                <p t-out="student.company_id.street" style="font-size:7pt;margin-bottom:0;color:#07163E;text-align:center;"/>
                            </div>
                            <div t-if="student.company_id.phone" >
                                <p t-out="student.company_id.phone" style="font-size:8pt; margin-bottom:0;color:#07163E;text-align:center;"/>
                            </div>
                        </div>
                        <div style="display: inline-block; width: 75pt; vertical-align: top; text-align: center;">
                            <p t-if="student.company_id.logo">
                                <img t-att-src="image_data_uri(student.company_id.logo)" style="height:25pt; max-width:70pt;" alt="Company Logo"/>
                            </p>
                        </div>
                        <div style="position: absolute; top: 40pt; left: 180pt; width: 40pt; height: 40pt; background: #cfdffa; border-radius: 50%; opacity: 0.4;"></div>
                        <div style="position: absolute; top: 137pt; left: 90pt; width: 10pt; height: 10pt; background: #cfdffa; border-radius: 50%; opacity: 0.8;"></div>
                        <div style="position: absolute; bottom: 5pt; right: 5pt; width: 30pt; height: 30pt; border: 2pt solid #cfdffa; border-radius: 50%;"></div>

                        <div style="font-size: 9pt; color: #000;">
                            <div style="float: left; width: 70pt; border: 2pt solid #e74c3c; border-radius: 2pt;margin-left:1pt;">
                                <img t-if="student.student_image"
                                    t-att-src="image_data_uri(student.student_image)"
                                    style="height: 80pt; width: 67pt; object-fit: cover;" />
                            </div>
                            <div style="float: left; width: 130pt;" class="mx-2">
                                <div><strong>Name</strong>: <t t-esc="student.name" /></div>
                                <div><strong>Grade</strong>: <t t-esc="student.current_grade_id.name" /></div>
                                <div><strong>D.O.B</strong>: <t t-esc="student.dob" /></div>
                                <div><strong>Phone no.</strong>: <t t-esc="student.mobile" /></div>
                                <div><strong>Address</strong>: 
                                    <t t-esc="student.street" />, 
                                    <t t-esc="student.city" />, 
                                    <t t-esc="student.country_id.name" />
                                </div>
                            </div>
                            <div style="position: relative; width: 100%; height: 100%;">
                                <img t-if="student.vertical_barcode_image"
                                    t-att-src="'data:image/png;base64,' + student.vertical_barcode_image.decode('utf-8')"
                                    style="position: absolute; top: 0; right: 0; width: 35pt; height: 97pt;" />
                            </div>
                        </div>
                    </div>
                    <div style="width: 243pt; height: 153pt; border: 1pt solid black; border-radius:8pt; margin:5pt; padding: 2pt;margin-top:60%">
                        <div style="height:100%;">
                            <div
                                class="watermark_logo"
                                style="position:absolute;opacity:0.20;text-align:center;">
                                <img t-att-src="image_data_uri(student.company_id.logo)" alt="Logo"
                                style="position:relative;width: 235pt;height:90pt;"/>
                            </div>
                            <div align="center" style="margin-top:8%;">
                                <div t-if="student.company_id.name">
                                    <h6 style="font-size:14pt; margin:0;color:#07163E;font-weight:600;" t-out="student.company_id.name"/>
                                </div>
                                <div t-if="student.company_id.street" style="margin:0;">
                                    <p t-out="student.company_id.street" style="color:#07163E;font-size:9pt;margin-bottom:0;"/>
                                </div>
                                <div t-if="student.company_id.phone" >
                                    <p t-out="student.company_id.phone" style="color:#07163E;font-size:9pt; margin-bottom:0;"/>
                                </div>
                                <div t-if="student.current_enrollment_id.qr_code">
                                    <img t-att-src="image_data_uri(student.current_enrollment_id.qr_code)" style="height:65pt;width:75pt;color:#07163E;" alt="Student QR Code"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </t>
            </div>
        </t>
    </template>

</odoo>
