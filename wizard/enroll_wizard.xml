<?xml version="1.0" encoding="utf-8"?> 
<!-- Copyright (c) 2016-Present Webkul Software Pvt. Ltd. (<https://webkul.com/>; ) --> 
<!-- See LICENSE file for full copyright and licensing details. --> 
<!-- License URL : https://store.webkul.com/license.html/ -->
<odoo>
    <data>
        <record id='enroll_wizard_view_form' model='ir.ui.view'>
            <field name='name'>Enroll</field>
            <field name='model'>wk.enroll.wizard</field>
            <field name='arch' type='xml'>
                <form>  
                    <group>
                        <field name='enroll_action' widget='radio'/>
                        <field name='student_id' invisible='enroll_action == "new"' options="{'no_create': True}" readonly="1"/>
                    </group>

                    <div style='border:1px solid red; color:red;padding:4px;' invisible='enroll_action != "new"'>
                        <span>Note:- Student data will be retrieved from application form. </span>
                    </div>

                    <footer>
                        <button name="enroll_now" type="object" string="Enroll" class="btn-success"/>
                        <button string="Cancel" class="btn-primary" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <record id="enroll_wizard_action" model="ir.actions.act_window">
            <field name="res_model">wk.enroll.wizard</field>
            <field name="name">Enroll Student</field>
            <field name="target">new</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="wk_school_management.enroll_wizard_view_form"/>
        </record>

        <record id='student_promote_view_form' model='ir.ui.view'>
            <field name='name'>wk.student.promote.form</field>
            <field name='model'>wk.student.promote</field>
            <field name='arch' type='xml'>
                <form> 
                    <group>
                        <group>
                            <field name='current_grade_id' readonly="1"/>
                            <field name='grade_id' options="{'no_create': True}"/>
                            <field name="section_id" invisible="not section_visibility" options="{'no_create_edit': True, 'no_create': True, 'no_edit': True}"/>
                        </group>
                        <group>
                            <field name='session_id' options="{'no_create': True}"/>
                            <field name='academic_year_id' options="{'no_create': True}"/>
                            <field name='student_id' invisible="1"/>
                        </group>
                    </group>
                    <footer>
                        <button name="promote_student" type="object" string="Promote Now" class="btn-success"/>
                        <button string="Cancel" class="btn-primary" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <record id="student_promote_action" model="ir.actions.act_window">
            <field name="res_model">wk.student.promote</field>
            <field name="name">Promote Student(s)</field>
            <field name="target">new</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="wk_school_management.student_promote_view_form"/>
        </record>
        
        <record id='student_enrollment_subject_view_form' model='ir.ui.view'>
            <field name='name'>Student Enrollment Subjects</field>
            <field name='model'>wk.student.enrollment.subject</field>
            <field name='arch' type='xml'>
                <form>  
                    <field name='grade_id' invisible="1"/>
                    <field name='subject_ids'>
                        <list string="Subject" create="0" edit="0">
                            <field name="name"/>
                            <field name="subject_code"/>
                            <field name="credit_value"/>
                            <field name="grade_id"/>
                            <field name="create_uid"/>
                            <field name="create_date"/>
                        </list>
                    </field>
                    <footer>
                        <button name="add_subject_wizard" type="object" string="Add" class="btn-success"/>
                        <button string="Cancel" class="btn-primary" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

    </data>
</odoo>
