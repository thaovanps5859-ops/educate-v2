<?xml version="1.0" encoding="utf-8"?> 
<!-- Copyright (c) 2016-Present Webkul Software Pvt. Ltd. (<https://webkul.com/>; ) --> 
<!-- See LICENSE file for full copyright and licensing details. --> 
<!-- License URL : https://store.webkul.com/license.html/ -->
<odoo>
    <data>
        <record id='student_route_wizard_view_form' model='ir.ui.view'>
            <field name='name'>Student Route Wizard</field>
            <field name='model'>student.route.wizard</field>
            <field name='arch' type='xml'>
                <form>
                    <field name='student_ids' domain="[('location_id', 'in', context.get('location_ids', [])), ('route_id', '=', False)]">
                        <list>
                            <field name='name'/>
                            <field name='current_grade_id'/>
                        </list>
                    </field>
                    <footer>
                        <button string='Assign Route' type='object' name='action_assign_route' class='btn-primary'/>
                        <button string='Cancel' class='btn-secondary' special='cancel'/>
                    </footer>
                </form>
            </field>
        </record>

        <record id='student_route_wizard_view_form_activate_student' model='ir.ui.view'>
            <field name='name'>Student Route Wizard Form</field>
            <field name='model'>student.route.wizard</field>
            <field name='arch' type='xml'>
                <form string="Assign Route to Student">
                    <field name='route_stop_ids' options="{'no_create': True}" readonly='1'>
                        <list editable='bottom' create='False' delete='False'>
                            <field name='route_id'/>
                            <field name='location_id'/>
                            <field name='pickup_time' widget="float_time"/>
                            <field name='dropoff_time' widget="float_time"/>
                            <field name='student_capacity'/>
                            <field name='enrolled_students'/>
                            <field name='remaining_capacity'/>
                        </list>
                    </field>
                    <group>
                        <field name='location_id' option="{'no_create': True}" domain="[('company_id', '=', context.get('student_company', False))]" required='1'/>
                        <field name='route_id' options="{'no_create': True}" domain="[('id', 'in', available_routes)]" required='1'/>
                    </group>
                    <footer>
                        <button string='Activate' type='object' name='action_enable_transport' invisible="context.get('bulk_activation', False)" class='oe_highlight'/>
                        <button string='Activate' type='object' name='action_enable_transport_bulk' invisible="not context.get('bulk_activation', False)"  class='oe_highlight'/>
                        <button string='Cancel' class='btn-secondary' special='cancel'/>
                    </footer>
                </form>
            </field>
        </record>
    </data>
</odoo>