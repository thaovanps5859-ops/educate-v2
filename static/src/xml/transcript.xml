<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2015-Present Webkul Software Pvt. Ltd. (<https://webkul.com/>) -->
<!-- See LICENSE file for full copyright and licensing details. -->
<!-- "License URL : <https://store.webkul.com/license.html/>" -->
<templates xml:space="preserve">
	<t t-name="transcript_template">
        <div class="container mt-2 transcript">
            <h1 class="text-center" style="color:#545050;">OFFICIAL ACADEMIC TRANSCRIPT</h1>
            <div class="first_header mt-3 mb-3  p-4" style="background-color: white;">
                <div class="row">
                    <span>
                        <strong style="width: 500px !important;margin-left: 10px;font-family: 'Helvetica', 'Arial', sans-serif;">Session:</strong>
                        <strong style="width: 200px !important;margin-left: 160px;font-family: 'Helvetica', 'Arial', sans-serif;">Student:</strong>
                    </span>
                </div>
                <div class="row">
                    <select class="custom-select col-lg-4 form-select" 
                            id="session_selection" 
                            t-on-change="change_enrollment_session_data" 
                            required="required"
                            style="width: 200px !important; margin-left: 20px; font-family: 'Helvetica', 'Arial', sans-serif;">
                        <option value="-1" disabled="disabled" selected="selected"></option>
                        <t t-foreach="state.sessions" t-as="session" t-key="session.id">
                            <option t-att-value="session['id']">
                                <t t-out="session['name']"/>
                            </option>
                        </t>
                    </select>

                    <select class="custom-select col-lg-4 form-select" 
                            id="enrollment_ids_selection" 
                            required="required"
                            style="width: 200px !important; margin-left: 20px; font-family: 'Helvetica', 'Arial', sans-serif;">
                        <option value="-1" disabled="disabled" selected="selected"></option>
                        <t t-foreach="state.enrollment_ids" t-as="enrollment_id" t-key="enrollment_id[0]">
                            <option t-att-value="enrollment_id[0]">
                                <t t-out="enrollment_id[1]"/>
                            </option>
                        </t>
                    </select>

                    <button class="col-lg-4 btn btn-success mb-sm-2" t-on-click="_fetch_transcript_record" style="width: 150px !important;margin-left: 20px;font-family: 'Helvetica', 'Arial', sans-serif;">
                        <i class="fa fa-refresh" aria-hidden="true"></i>
                        Fetch Transcript
                    </button>

                    <a t-if="state.student and state.session" t-attf-href="/my/transcript/download/#{state.student}/#{state.session}"
                        id="print_student_transcript" class="btn btn-info col-lg-4"
                        style="width: 110px;margin-left: 20px;height:34px;font-family: 'Helvetica', 'Arial', sans-serif;" title="Print Transcript">
                        <span>
                            <i class="fa fa-download" aria-hidden="true"></i>
                            Download
                        </span>
                    </a>
                </div>
            </div>
            <div class="detail_header d-none  mb-3 p-4 " style="background-color: white;">
                <div class="row">
                    <div class="col-md-6 fs-4">
                        <div class="my-1" style="font-family: 'Helvetica', 'Arial', sans-serif;">
                            <span class="fw-bolder" style="color: #525050;">Name:  </span><t t-out="state.student_information.name"/>
                        </div>
                        <div class="my-1" style="font-family: 'Helvetica', 'Arial', sans-serif;">
                            <span class="fw-bolder" style="color: #525050;">Email:  </span><t t-out="state.student_information.email"/>
                        </div>
                        <div class="my-1" style="font-family: 'Helvetica', 'Arial', sans-serif;">
                            <span class="fw-bolder" style="color: #525050;">Address:  </span><t t-out="state.student_information.adress"/>
                        </div>
                        <div class="my-1" style="font-family: 'Helvetica', 'Arial', sans-serif;">
                            <span class="fw-bolder" style="color: #525050;">Date Of Birth:  </span><t t-out="state.student_information.dob"/>
                        </div>
                        <div class="my-1" style="font-family: 'Helvetica', 'Arial', sans-serif;">
                            <span class="fw-bolder" style="color: #525050;">Mobile:  </span><t t-out="state.student_information.phone_number"/>
                        </div>
                    </div>
                    <div class="col-md-6 fs-4">
                        <div class="my-1" style="font-family: 'Helvetica', 'Arial', sans-serif;">
                            <span class="fw-bolder" style="color: #525050;">Name:  </span><t t-out="state.school_information.name"/>
                        </div>
                        <div class="my-1" style="font-family: 'Helvetica', 'Arial', sans-serif;">
                            <span class="fw-bolder" style="color: #525050;">Email:  </span><t t-out="state.school_information.email"/>
                        </div>
                        <div class="my-1" style="font-family: 'Helvetica', 'Arial', sans-serif;">
                            <span class="fw-bolder" style="color: #525050;">Session:  </span><t t-out="state.school_information.session_name"/>
                        </div>
                        <div class="my-2" style="font-family: 'Helvetica', 'Arial', sans-serif;">
                            <span class="fw-bolder" style="color: #525050;">Session Status:  </span>
                            <t t-if="state.school_information.session_status == 'new'">
                                <span class="badge rounded-pill border" style="color:#2563EA !important;background-color:#cfdbf7 !important;font-size:14px;font-family: 'Inter', sans-serif;">New</span>
                            </t>
                            <t t-elif="state.school_information.session_status == 'progress'">
                                <span class="badge rounded-pill border" style="color:#B35309 !important;background-color:#ffe9c4 !important;font-size:14px;font-family: 'Inter', sans-serif;">Progress</span>
                            </t>
                            <t t-elif="state.school_information.session_status == 'complete'">
                                <span class="badge rounded-pill border" style="color:#047857 !important;background-color:#caf7ea !important;font-size:14px;font-family: 'Inter', sans-serif;">Complete</span>
                            </t>
                        </div>
                        <div class="my-1" style="color: #525050;font-family: 'Helvetica', 'Arial', sans-serif;">
                            <span class="fw-bolder">Issue Date:  </span><t t-out="state.issue_date"/>
                        </div>
                    </div>
                </div>
            </div>

            <div class="table_header d-none p-4 mb-3 d-none " style="background-color: white;">
                <div class="error_message">
                    <h1 style="font-family: 'Helvetica', 'Arial', sans-serif;"><t t-out="state.error_message"/></h1>
                </div>                
                <div class="table_data row">
                    <t t-foreach='state.records' t-as='records' t-key="records[0]['enrollment']">
                        <div class="col-md-12">
                            <div class="grade_table_detail mb-2">
                                <div class="enrolment_data row fs-4" style="color: #525050;font-family: 'Helvetica', 'Arial', sans-serif;">
                                    <div class='col-6'><span  class="academic_yr mt-4 fw-bolder">Academic Year : </span><t t-out="records[0]['academic_year']"/></div>
                                    <div class='col-6'><span class="grade mt-4 fw-bolder">Grade : </span><t t-out="records[0]['grade']"/></div>
                                </div>
                                <table class="table table-borderless" style="width: 100%;border: none; margin-top: 20px;">
                                    <thead style="border: none;">
                                        <tr style="font-size: 17px;border: 2px solid #979797;background-color: #e1e1e1;">
                                            <th style="text-align: center; border: none; padding: 8px;font-weight:600">Term</th>
                                            <th style="text-align: center; border: none; padding: 8px;font-weight:600">Subject Code</th>
                                            <th style="text-align: center; border: none; padding: 8px;font-weight:600">Subject</th>
                                            <th style="text-align: center; border: none; padding: 8px;font-weight:600">Credit</th>
                                            <th style="text-align: center; border: none; padding: 8px;font-weight:600">Grade</th>
                                            <th style="text-align: center; border: none; padding: 8px;font-weight:600">SGPA</th>
                                            <th style="text-align: center; border: none; padding: 8px;font-weight:600">CGPA</th>
                                        </tr>
                                    </thead>
                                    <tbody style="border: none; font-size: 16px;">
                                        <t t-foreach="records[0]['terms']" t-as="term" t-key="term['id']">
                                            <t t-set="row_count" t-value="term['subjects'].length"/>
                                            <t t-foreach="term['subjects']" t-as="subject" t-index="subject_index" t-key="subject['subject_code'] or subject_index">
                                                <tr style="border: none;">
                                                    <t t-if="subject_index == 0">
                                                        <td t-attf-rowspan="{{ row_count }}"
                                                            style="text-align: center; border: none; padding: 8px;">
                                                            <t t-esc="term['name']"/>
                                                        </td>
                                                    </t>
                                                    <td style="text-align: center; border: none; padding: 8px;">
                                                        <t t-esc="subject['subject_code']"/>
                                                    </td>
                                                    <td style="text-align: center; border: none; padding: 8px;">
                                                        <t t-esc="subject['subject_name']"/>
                                                    </td>
                                                    <td style="text-align: center; border: none; padding: 8px;">
                                                        <t t-esc="subject['credit_value']"/>
                                                    </td>
                                                    <td style="text-align: center; border: none; padding: 8px;">
                                                        <t t-esc="subject['grade'] or '-'"/>
                                                    </td>
                                                    <t t-if="subject_index == 0">
                                                        <td t-attf-rowspan="{{ row_count }}"
                                                            style="text-align: center; border: none; padding: 8px;">
                                                            <t t-esc="term['sgpa'] or '-'"/>
                                                        </td>
                                                        <td t-attf-rowspan="{{ row_count }}"
                                                            style="text-align: center; border: none; padding: 8px;">
                                                            <t t-esc="term['cgpa'] or '-'"/>
                                                        </td>
                                                    </t>
                                                </tr>
                                            </t>
                                            <tr>
                                                <td colspan="7" style="border-top: 1px solid #bfbfbf;"></td>
                                            </tr>
                                        </t>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </t>
                </div>
            </div>            
        </div>
    </t>
</templates>
